DPVS开发者指南
============

# 目录

[第一部分：DPVS介绍及部署](#)

* [DPVS是什么？](#)
  - [什么是4层负载均衡](#)
  - [项目由来](#)
  - [LVS为何无法实现高性能？](#)
  - [DPVS的特点](#)
* [试用DPVS](#)
  - [编译、运行](#)
  - [在虚机中测试DPVS](#)
* [将DPVS用于生产环境](#)
  - [转发模型](#)
  - [调度模型](#)
  - [单臂与双臂模型](#)
  - [DPVS部署示例](#)
    - [外网集群模式](#)
    - [内网集群模式](#)
    - [主备模式](#)
    - [支持bonding和vlan](#)
    - [SNAT集群](#)
    - [SNAT-GRE集群](#)
  - [监控与运维](#)
    - [自动化部署](#)
    - [实现基本监控](#)

[第二部分：DPVS设计与实现](#)

* [如何提高性能](#)
  - [Kernel Bypass技术](#)
  - [Sharing Nothing](#)
  - [避免调度：绑定CPU/Queue](#)
  - [轮询和中断](#)
  - [DPDK提供的相关技术](#)
* [DPVS总体设计](#)
  - [设计目标](#)
  - [系统架构](#)
  - [模块划分](#)
  - [关键技术点](#)
  - [数据流(Big Picture)](#)
  - [选择与取舍](#)
* [网络设备和数据收发](#)
  - [netif和数据收发](#)
  - [虚拟设备](#)
    - [kni设备](#)
    - [vlan设备](#)
    - [bonding设备](#)
    - [Tunnel设备](#)
    - [虚拟设备关系](#)
  - [tc: 流量控制](#)
    - [Linux的流量控制](#)
    - [fifo: 先进先出队列](#)
    - [pfifo_fast: 优先级队列](#)
    - [tbf: 令牌桶过滤器](#)
    - [match: 规则匹配](#)
  - [硬件地址管理](#)
* [用户态轻量级协议栈](#)
  - [公共API函数](#)
  - [ipv4: 简单的IP层](#)
  - [neigh: ARP实现](#)
  - [route: 路由实现](#)
  - [inetaddr: IP地址管理](#)
  - [icmp: 基本ICMP功能](#)
  - [tunnel: IP-in-IP及GRE隧道](#)
* [负载均衡与转发](#)
  - [ipvs: 虚拟服务器](#)
    - [ipvs基本概念](#)
    - [ipvs核心数据流](#)
    - [返程数据亲和性](#)
  - [xmit: 转发模型](#)
    - [FullNAT转发](#)
    - [DR转发](#)
    - [SNAT模式](#)
    - [NAT与隧道模式](#)
  - [sched: Real Server调度](#)
  - [dest: Real Server管理](#)
  - [service: 虚拟服务管理](#)
  - [proto: 协议转发](#)
    - [TCP转发](#)
    - [UDP转发](#)
    - [ICMP转发](#)
    - [QUIC转发](#)
  - [laddr: Local IP管理](#)
  - [sa_pool: 地址池管理](#)
  - [toa/uoa: 获取真实客户端地址](#)
  - [conhash: 一致性哈希](#)
  - [数据统计](#)
* [其他基础部件](#)
  - [timer: 高性能定时器](#)
  - [msg: 跨CPU无锁通信](#)
* [安全相关主题](#)
  - [黑名单](#)
  - [防syn flood攻击：syn-proxy](#)
  - [并发、流量限制](#)
* [DPVS控制面及工具](#)
  - [sockopt: 控制面](#)
  - [配置文件](#)
  - [dpip工具](#)
  - [ipvsadm工具](#)
* [性能测试与调优](#)
  - [性能测试](#)
  - [perf与火焰图](#)
  - [一步步改进性能](#)

[第三部分：开源合作与展望](#)

* [开源的好处](#)
* [DPVS开源的一些经验](#)
* [持续集成](#)
* [自动化测试](#)
* [如何参与项目](#)
  - [提交bug](#)
  - [功能开发与Pull Request](#)
  - [提问与讨论](#)
* [项目的未来目标](#)

* [参考资料](#)

---------------------------------------------------------
